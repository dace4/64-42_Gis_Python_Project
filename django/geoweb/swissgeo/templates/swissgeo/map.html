{% load static %}

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Oiken Network Risk Map</title>

    <!-- Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css"
      integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
      crossorigin=""
    />

    <!-- Leaflet JS -->
    <script
      src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"
      integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg=="
      crossorigin=""
    ></script>

    <!-- JQuery -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

    <style>
      #swissmap {
        height: 90vh;
      }
    </style>
  </head>

  <body>
    <h1>Oiken Network Risk Map</h1>

    <div id="swissmap"></div>

    <script type="text/javascript">
      // declare tile layers
      var OpenTopoMap = L.tileLayer(
        "https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",
        {
          maxZoom: 17,
          attribution:
            'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)',
        }
      );

      var OpenStreetMap_CH = L.tileLayer(
        "https://tile.osm.ch/switzerland/{z}/{x}/{y}.png",
        {
          maxZoom: 18,
          attribution:
            '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
          bounds: [
            [45, 5],
            [48, 11],
          ],
        }
      );

      var Stamen_Watercolor = L.tileLayer(
        "https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",
        {
          attribution:
            'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
          subdomains: "abcd",
          minZoom: 1,
          maxZoom: 16,
          ext: "jpg",
        }
      );

      // naming the tile layers
      var baseMaps = {
        Watercolor: Stamen_Watercolor,
        OpenTopo: OpenTopoMap,
        OSM: OpenStreetMap_CH,
      };

      // create the Leaflet map
      var themap = L.map("swissmap", {
        layers: [OpenTopoMap], // Initial layer
      }).setView([46.8, 8], 8);

      // add base layer control
      L.control.layers(baseMaps, null).addTo(themap);

      // example marker / circle / polygon (you can remove or keep as demo)
      var marker = L.marker([46.134666, 7.62216]).addTo(themap);
      var circle = L.circle([46.7, 7.85], {
        color: "red",
        fillColor: "#f03",
        fillOpacity: 0.5,
        radius: 5000,
      }).addTo(themap);
      var polygon = L.polygon([
        [46.7, 7.85],
        [47.3, 7.99],
        [47.1, 8.3],
        [46.66, 8.6],
        [46.51, 8.1],
      ]).addTo(themap);

      // popups
      marker.bindPopup("The town of Zinal in Valais").openPopup();
      circle.bindPopup("A circle near Interlaken.");
      polygon.bindPopup("The area of a new Swiss canton.");
    </script>

    <!-- VERY IMPORTANT : load your map.js here -->
    <script src="{% static 'js/map.js' %}"></script>
  </body>
</html>
